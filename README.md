# Виджет для банковского приложения
 Виджет показывает несколько последних совершенных
 операций, а также выводит данные о банковской карте 
 и банковском счете в замаскированном виде.

<a id=menu> В проекте уже реализованы 3 модуля: </a>

1. [masks.py](#a-idmasks-модуль-maskspy-a)
2. [processing.py](#processing)
3. [widget.py](#widget)

## <a id=masks> Модуль masks.py </a>
Модуль содержит 2 функции:
- Функция маскировки номера банковской карты get_mask_card_number
- Функция маскировки номера банковского счета get_mask_account

[к списку модулей](#menu)

### Функция get_mask_card_number
Функция принимает данные о номере банковской карты в формате:
'1234567890123456' и преобразовывает в формат '1234 56** **** 3456'
Так же обрабатывает ошибки, связанные с некорректными данными о номере карты
и выводит сообщение "Ошибка ввода"

### Функция get_mask_account
Функция принимает данные о номере банковского счета в формате:
'12345678901234567890' и преобразовывает в формат '**7890'
Так же обрабатывает ошибки, связанные с некорректными данными о номере карты
и выводит сообщение "Ошибка ввода"

[к списку модулей](#menu)

## <a id = processing> Модуль processing.py </a>
Модуль содержит 2 функции:
- Функция маскировки номера банковской карты filter_by_state
- Функция маскировки номера банковского счета sort_by_date

### Функция filter_by_state
Функция принимает на вход список словарей и отфильтровывает их по ключу 'state'
По умолчанию значение ключа 'state' = 'EXECUTED', но может принимать значение 'CANCELED'
Так же обрабатывает ошибки, связанные с некорректными значениями ключа 'state',
или отсутствием этого ключа.
Возвращает отфильтрованный список словарей только с корректным значением ключа 'state' ('EXECUTED' или 'CANCELED')

### Функция sort_by_date
Функция принимает на вход список словарей и необязательный параметр (по умолчанию 'True'), задающий порядок сортировки.
Функция сортирует список по ключу 'date'.
По умолчанию сортировка происходит по убыванию (сначала самые последние).
Если значение необязательного параметра изменить на 'False', то сортировка будет по возрастанию.

[к списку модулей](#menu)
## <a id = widget> Модуль widget.py </a>

Модуль содержит 2 функции:
- Функция обработки данных о карте и счете mask_account_card
- Функция преобразования формата даты get_date

### Функция обработки данных о карте и счете mask_account_card
Функция принимает на вход строку содержащую тип данных (счет или наименование карты)
и номер счета или номер карты соответственно,
а возвращает строку с замаскированным номером счета или карты соответственно.
Обрабатывает ошибки, связанные с некорректными данными, поступающими на вход.



### Функция преобразования формата даты get_date
Функция принимает на вход строку с датой в формате "2024-03-11T02:26:18.671407"
и возвращает строку с датой в формате "ДД.ММ.ГГГГ"
Обрабатывает ошибки структуры входящих данных 
(при структуре отличной от ХХХХ-ХХ-ХХ возвращает ошибку)

[к списку модулей](#menu)

## Тесты

В проекте написаны тесты ко всем функциям. 
Покрытие кода тестами 100%.